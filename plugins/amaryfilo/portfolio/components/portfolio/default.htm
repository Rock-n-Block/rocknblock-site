{% set portfolioContracts = __SELF__.getPortfolioContracts() %}
{% set portfolioWeb = __SELF__.getPortfolioWeb() %}

<div class="case-studies container" id="cases">
  <div class="block-header">
    <h2 class="primary-header">Case Studies</h2>
  </div>
  <div class="tabs">
    <input id="tab-btn-case-1" type="radio" name="tab-btn-case" checked="checked" />
    <label class="tabs-label" for="tab-btn-case-1">Smart contracts</label>
    <input id="tab-btn-case-2" type="radio" name="tab-btn-case" />
    <label class="tabs-label" for="tab-btn-case-2">Web/mobile development</label>
    <div class="scroll">
      <div class="content-tab content-case-1">
        <div class="tabs-case">
          {% for key, item in portfolioContracts | reverse if item.is_active %}
          <input type="radio" name="tab-btn-case-1" id="tab-btn-case-1-{{ key+1 }}" {% if key+1==1 %} checked="checked" {% endif %} />
          <label class="content-item" for="tab-btn-case-1-{{ key+1 }}">
            <img class="content-item__img" src="{{ item.icon.path }}" alt="{{ item.title }} logo" />
            <span class="content-item__name">{{ item.title }}</span>
          </label>
          {% endfor %}
          <div class="scroll">
            {% for key, item in portfolioContracts | reverse if item.is_active %}
            <div class="content-tab content-case-1-{{ key+1 }}">
              <div class="case-studies__dropdown dropdown">
                <h3 class="dropdown__title">{{ item.title }}</h3>
                <div class="dropdown__img">
                  <div>
                    <div class="switch">
                      <input type="radio" name="case-1-{{ key+1 }}-img" id="case-1-{{ key+1 }}-img-1" checked="checked" />
                      <input type="radio" name="case-1-{{ key+1 }}-img" id="case-1-{{ key+1 }}-img-2" />
                      <label class="switchIcon" for="case-1-{{ key+1 }}-img-1">
                        <img src="{{ 'assets/images/site/icons/icon-switch-left.svg'| theme }}" alt="switch left icon" />
                      </label>

                      {% for i, img in item.images %}
                      <picture class="case-1-{{ key+1 }}-img-{{ i+1 }} case-image">
                        <source type="image/webp" srcset="{{ img.path | resize(735, false, { mode: 'crop', quality: '100', extension: 'webp' }) }}" />
                        <img loading="lazy" src="{{ img.path }}" alt="{{ img.title }}" />
                      </picture>
                      {% endfor %}

                      <label class="switchIcon" for="case-1-{{ key+1 }}-img-2">
                        <img src="{{ 'assets/images/site/icons/icon-switch-right.svg'| theme }}" alt="switch right icon" />
                      </label>
                    </div>
                  </div>
                </div>
                <div class="case-studies__description">{{ item.description |raw }}</div>
                <div class="dropdown__insights insight">
                  <div class="dropdown__insights-insight">
                    <span class="insight__title">Features</span>
                    <ul class="gray-list">
                      {% set features = item.feature |split(',') %}
                      {% for feature in features %}
                      <li class="gray-list__item">{{ feature }}</li>
                      {% endfor %}
                    </ul>
                  </div>
                  <div class="dropdown__insights-insight insight-stacks">
                    <span class="insight__title">Stacks:</span>
                    <ul class="gray-list">
                      {% set stacks = item.stack |split(',') %}
                      {% for stack in stacks %}
                      <li class="gray-list__item">{{ stack }}</li>
                      {% endfor %}
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="content-tab content-case-2">
        <div class="tabs-case">
          {% for key, item in portfolioWeb | reverse if item.is_active %}
          <input type="radio" name="tab-btn-case-2" id="tab-btn-case-2-{{ key+1 }}" {% if key+1==1 %} checked="checked" {% endif %} />
          <label class="content-item" for="tab-btn-case-2-{{ key+1 }}">
            <img class="content-item__img" src="{{ 'assets/images/site/logo/logo-ducatus.svg'| theme }}" alt="ducatus logo" />
            <span class="content-item__name">{{ item.title }}</span>
          </label>
          {% endfor %}
          <div class="scroll">
            {% for key, item in portfolioWeb | reverse if item.is_active %}
            <div class="content-tab content-case-2-{{ key+1 }}">
              <div class="case-studies__dropdown dropdown dropdown-web">
                <h3 class="dropdown__title">{{ item.title }}</h3>
                <div class="dropdown__img">
                  <div>
                    <div class="noscroll">
                      {% for i, img in item.images %}
                      <picture class="scroll__dev">
                        <source type="image/webp" srcset="{{ img.path | resize(285, false, { mode: 'crop', quality: '100', extension: 'webp' }) }}" />
                        <img loading="lazy" src="{{ img.path }}" alt="{{ img.title }}" />
                      </picture>
                      {% endfor %}
                    </div>
                  </div>
                </div>
                <div class="case-studies__description">{{ item.description |raw }}</div>
                <div class="dropdown__insights insight">
                  <div class="dropdown__insights-insight">
                    <h5 class="insight__title">Features:</h5>
                    <ul class="gray-list">
                      {% set features = item.feature |split(',') %}
                      {% for feature in features %}
                      <li class="gray-list__item">{{ feature }}</li>
                      {% endfor %}
                    </ul>
                  </div>
                  <div class="dropdown__insights-insight insight-stacks">
                    <h5 class="insight__title">Stacks:</h5>
                    <ul class="gray-list">
                      {% set stacks = item.stack |split(',') %}
                      {% for stack in stacks %}
                      <li class="gray-list__item">{{ stack }}</li>
                      {% endfor %}
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>